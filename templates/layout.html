<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8">
    <title>Wello | AI 건강 추천</title>
    
    <!-- Resource hints for better performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="dns-prefetch" href="https://pagead2.googlesyndication.com">
    
    <!-- Critical meta tags -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="AI 기반 개인 맞춤 건강 추천 서비스">
    <meta name="robots" content="index, follow">
    
    <!-- Optimized font loading with display=swap for performance -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Critical CSS inline for above-the-fold content -->
    <style>
      /* Critical CSS for immediate rendering */
      body { 
        font-family: 'Noto Sans KR', -apple-system, BlinkMacSystemFont, sans-serif; 
        margin: 0;
        background-color: #f8f9fa;
      }
      .container { max-width: 1200px; margin: 0 auto; padding: 0 15px; }
      .bg-white { background-color: #fff !important; }
      .shadow-sm { box-shadow: 0 0.125rem 0.25rem rgba(0,0,0,0.075) !important; }
      .text-primary { color: #0d6efd !important; }
      .fw-bold { font-weight: 700 !important; }
      
      /* Loading animation for better UX */
      .loading {
        display: none;
        text-align: center;
        margin: 20px 0;
      }
      .spinner {
        border: 4px solid #f3f3f3;
        border-radius: 50%;
        border-top: 4px solid #0d6efd;
        width: 24px;
        height: 24px;
        animation: spin 2s linear infinite;
        display: inline-block;
      }
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    </style>
    
    <!-- Non-critical CSS loaded asynchronously -->
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"></noscript>
    
    <!-- Custom styles -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}?v=1.1">
    
    <!-- Deferred AdSense for better performance -->
    <script>
      window.addEventListener('load', function() {
        const adsScript = document.createElement('script');
        adsScript.src = 'https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1160753946668526';
        adsScript.async = true;
        adsScript.crossOrigin = 'anonymous';
        document.head.appendChild(adsScript);
      });
    </script>
    
    {% block head %}{% endblock %}
  </head>
  <body class="bg-light">

    <header class="bg-white shadow-sm">
      <div class="container py-3">
        <h1 class="text-primary fw-bold">🌿 웰로 | AI 건강 추천</h1>
        <nav class="mt-2">
          <a class="me-3 text-decoration-none text-secondary" href="{{ url_for('index') }}">홈</a>
          <a class="me-3 text-decoration-none text-secondary" href="{{ url_for('about') }}">소개</a>
          <a class="me-3 text-decoration-none text-secondary" href="{{ url_for('privacy') }}">개인정보</a>
          <a class="text-decoration-none text-secondary" href="{{ url_for('terms') }}">이용약관</a>
        </nav>
      </div>
    </header>

    <main class="container my-5">
      {% block content %}{% endblock %}
    </main>

    <footer class="bg-white border-top py-4">
      <div class="container text-center">
        <p class="mb-1">© 2025 Wello. 모든 권리 보유.</p>
        <a href="https://www.youtube.com/@ai_ieum" class="btn btn-outline-danger btn-sm mt-2" target="_blank" rel="noopener">
          🔗 개발자 유튜브 채널 바로가기
        </a>
      </div>
    </footer>

    <!-- Performance monitoring script (optional) -->
    <script>
      // Simple performance monitoring
      window.addEventListener('load', function() {
        if ('performance' in window) {
          const loadTime = performance.timing.loadEventEnd - performance.timing.navigationStart;
          console.log(`Page loaded in ${loadTime}ms`);
        }
      });
    </script>

  </body>
</html>
